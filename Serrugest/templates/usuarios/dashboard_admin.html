{% extends 'base.html' %}
{% block content %}

<h3>Panel de Administraci√≥n</h3>

<form method="get" class="mb-3">
  <input type="text" name="q" placeholder="Buscar usuario..." value="{{ query }}" class="form-control w-50 d-inline">
  <button type="submit" class="btn btn-primary">Buscar</button>
  <a href="{% url 'registrar_usuario' %}" class="btn btn-success float-end">+ Nuevo usuario</a>
</form>

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>Nombre de usuario</th>
      <th>Correo</th>
      <th>Rol</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    {% for user in usuarios %}
      <tr>
        <td>{{ user.username }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.rol }}</td>
        <td>
          <a href="#" class="btn btn-sm btn-warning">Editar</a>
          <a href="#" class="btn btn-sm btn-danger">Eliminar</a>
        </td>
      </tr>
    {% empty %}
      <tr>
        <td colspan="4">No se encontraron usuarios.</td>
      </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
